Bootstrap: docker
From: python:3.9-buster
Stage: tagger

%help
for container help:
  $ ./docuscope-tagger.sif --help

%labels
        Maintainer Michael Ringenberg <ringenberg@cmu.edu>
        Version v3.1.4

%setup
        mkdir -p $SINGULARITY_ROOTFS/app

%files
        app /
	requirements.txt /

#%files from dictionary
#        /app/static /app/dictionaries

%post
        pip install --upgrade pip
	pip install --no-cache-dir --upgrade -r /requirements.txt

%runscript
        exec python /app/cli.py $@
